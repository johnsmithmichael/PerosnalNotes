	1.一个对象的内存管理图
![[java一个对象的jvm内存管理.png]]
	jvm执行步骤：
### 第一步：代码执行 (`Phone phone1 = new Phone();
	1.1：加载类信息（方法区）​
		 JVM 检查到 `new Phone()`需要创建对象。
		首先会去​方法区​寻找 `Phone`类的元信息（蓝图）。如果没找到，就先加载类
			（找到class文件并将其二进制数据读入内存,再然后在​方法区​中为这个类创建  一个 `java.lang.Class`对象，作为该类的各种数据（如类名、父类、方法、变量等元信息）的访问入口）。
		图中“方法区”里存储的 `class地址值`、`String brand;`、`int price;``call()`方法代码等，就是这个蓝图
	1.2：创建对象实例（堆）
		根据“方法区”中 `Phone`类的蓝图，JVM 在​堆内存​​中开辟一块空间，创建一个真正的 `Phone`对象实例
		这个空间有一个唯一的​**​内存地址​**​（图中为 `0x001`）
		对象创建后，会按照蓝图中的定义，为属性赋予​默认初始值​​（`brand = null`, `price = 0`）。
	1.3:声明引用变量（栈）：
		在 `main`方法的​栈帧​中，声明一个引用变量 `phone1`
	此时的内存状态​：栈中的变量 `phone1`保存了堆中对象实例的地址，就像一个​遥控器​对应着一台​电视机​。
### 第二步：操作对象 (`phone1.brand = "xiaomi"; phone1.price = 2999;
	1.1通过引用找到对象：
		执行 `phone1.brand = "xiaomi";`时，JVM 根据栈中 `phone1`保存的地址 `0x001`，定位到堆中的那个对象​
	1.2​修改对象属性​：
		找到对象后，将堆中该对象的 `brand`属性值从 `null`修改为字符串 `"xiaomi"`（字符串“xiaomi”本身存在于字符串常量池，是堆中的一部分，`brand`属性指向它）
		同理，将 `price`的值从 `0`修改为 `2999`。这个基本数据类型的值直接存储在堆中的对象实例内
	此时的内存状态​​：对象已经从“空壳”变成了一个具有具体品牌和价格的“手机”
### 第三步：调用方法 `phone1.call()`
	1.找到方法代码：
		执行 `phone1.call();`时，JVM 首先依然通过 `phone1`的地址 `0x001`找到堆中的对象
		然后，通过对象​对象头​中指向​​方法区​​的​类指针​​，定位到这个对象属于哪个类（`Phone`类）
	2.执行方法字节码：
		根据类指针，JVM 到​**​方法区​**​的 `Phone`类元数据中找到 `call()`方法的编译后的字节码
		将 `call()`方法调入​**​栈​**​中执行，于是便打印出了“给金莲打电话”
	**这里的关键是​**​：方法代码（指令）只有一份，存储在​**​方法区​**​，被所有该类的对象共享。而方法执行时所需的数据（`this.brand`, `this.price`）则来自​**​堆​**​中具体的那个对象实例。
![[Java一个对象的内存管理图总结.png]]

2.两个对象内存图
	![[两个对象的内存调用图.png]]
3.两个对象指向同一片空间内存图
	![[两个对象指向同一片空间内存图.png]]
	两个对象输出的结果是一样的，因为
	![[两个对象指向同一片空间会怎么样.png]]